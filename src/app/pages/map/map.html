<div class="toolbar">
  <div class="left">
    <b>Trajet</b>
    <span class="sub" *ngIf="deviceEui">Équipement: <b>{{ deviceEui }}</b></span>
  </div>

  <div class="right">
    <button mat-stroked-button (click)="play()" [disabled]="playing || !hasTrajectory">▶ Play</button>
    <button mat-stroked-button (click)="pause()" [disabled]="!playing">⏸ Pause</button>
    <button mat-stroked-button (click)="stopReplay()" [disabled]="!hasTrajectory">⏹ Stop</button>

    <mat-button-toggle-group [value]="speed" (valueChange)="setSpeed($event)" aria-label="Speed">
      <mat-button-toggle [value]="1">x1</mat-button-toggle>
      <mat-button-toggle [value]="2">x2</mat-button-toggle>
      <mat-button-toggle [value]="5">x5</mat-button-toggle>
    </mat-button-toggle-group>
  </div>
</div>

<div class="hint" *ngIf="deviceEui && !hasTrajectory">
  Pas assez de points distincts pour tracer la trajectoire (min 2).
  Vérifie que l’historique DB augmente.
</div>

<app-fleet-map
  class="map-host"
  [follow]="true"
  [selected]="deviceEui"
  [history]="history"
  [devices]="devices">
</app-fleet-map>
